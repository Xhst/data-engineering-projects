from flask import Flask, request, jsonify

from rankingV1 import rankV1 
from rankingV2 import rankV2

app = Flask(__name__)

@app.route('/rankV1', methods=['POST'])
def rankV1():
    # Extract data from JSON request
    data = request.json
    query = data.get('query')  # query for task
    papers = data.get('papers')  # List of papers for task

    rank = rankV1(papers, query)

    # Response with JSON
    return jsonify(rank)


@app.route('/rankV2', methods=['POST'])
def rankV2():
    # Extract data from JSON request
    data = request.json
    query = data.get('query')  # query for task
    papers = data.get('papers')  # List of papers for task

    rank = rankV2(papers, query)

    # Response with JSON
    return jsonify(rank)



if __name__ == "__main__":
    app.run(port=5000)